<!-- COPY ALERT -->
<div id="copyAlert" class="copy-alert">
    <p class="small">âœ… Code copied!</p>
</div>

<!-- WINDOW 1 -->
<div class="window" id="window1" style="display: flex;">
    <!-- Window header -->
    <div class="window-header">
        <!-- Window header left -->
        <div class="window-header-child-l"></div>
        <!-- Window header center -->
        <p class="small">thisispure.html</p>
        <!-- Window header right -->
        <div class="window-header-child-r"><button class="close-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M4.08859 4.21569L4.14645 4.14645C4.32001 3.97288 4.58944 3.9536 4.78431 4.08859L4.85355 4.14645L10 9.293L15.1464 4.14645C15.32 3.97288 15.5894 3.9536 15.7843 4.08859L15.8536 4.14645C16.0271 4.32001 16.0464 4.58944 15.9114 4.78431L15.8536 4.85355L10.707 10L15.8536 15.1464C16.0271 15.32 16.0464 15.5894 15.9114 15.7843L15.8536 15.8536C15.68 16.0271 15.4106 16.0464 15.2157 15.9114L15.1464 15.8536L10 10.707L4.85355 15.8536C4.67999 16.0271 4.41056 16.0464 4.21569 15.9114L4.14645 15.8536C3.97288 15.68 3.9536 15.4106 4.08859 15.2157L4.14645 15.1464L9.293 10L4.14645 4.85355C3.97288 4.67999 3.9536 4.41056 4.08859 4.21569L4.14645 4.14645L4.08859 4.21569Z" />
                </svg>
            </button></div>
    </div>
    <!-- Window content -->
    <div class="window-content">
        <p class="base"> {% include intro.html %}</p>
    </div>
    <!-- Window resize handles -->
    <div class="resize-handle top-left"></div>
    <div class="resize-handle top-right"></div>
    <div class="resize-handle bottom-left"></div>
    <div class="resize-handle bottom-right"></div>
    <div class="resize-handle left"></div>
    <div class="resize-handle right"></div>
    <div class="resize-handle top"></div>
    <div class="resize-handle bottom"></div>
</div>

<!-- WINDOW 2 -->
<div class="window" id="window2">
    <!-- Window header -->
    <div class="window-header">
        <!-- Window header left -->
        <div class="window-header-child-l">
            <button class="copy-btn" id="copyButton" alt="copy code" title="copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M8 2C6.89543 2 6 2.89543 6 4V14C6 15.1046 6.89543 16 8 16H14C15.1046 16 16 15.1046 16 14V4C16 2.89543 15.1046 2 14 2H8ZM7 4C7 3.44772 7.44772 3 8 3H14C14.5523 3 15 3.44772 15 4V14C15 14.5523 14.5523 15 14 15H8C7.44772 15 7 14.5523 7 14V4ZM4 6.00001C4 5.25973 4.4022 4.61339 5 4.26758V14.5C5 15.8807 6.11929 17 7.5 17H13.7324C13.3866 17.5978 12.7403 18 12 18H7.5C5.567 18 4 16.433 4 14.5V6.00001Z" />
                </svg>
            </button>
        </div>
        <!-- Window header center -->
        <p class="small">color.html</p>
        <!-- Window header right -->
        <div class="window-header-child-r"><button class="close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path
                    d="M4.08859 4.21569L4.14645 4.14645C4.32001 3.97288 4.58944 3.9536 4.78431 4.08859L4.85355 4.14645L10 9.293L15.1464 4.14645C15.32 3.97288 15.5894 3.9536 15.7843 4.08859L15.8536 4.14645C16.0271 4.32001 16.0464 4.58944 15.9114 4.78431L15.8536 4.85355L10.707 10L15.8536 15.1464C16.0271 15.32 16.0464 15.5894 15.9114 15.7843L15.8536 15.8536C15.68 16.0271 15.4106 16.0464 15.2157 15.9114L15.1464 15.8536L10 10.707L4.85355 15.8536C4.67999 16.0271 4.41056 16.0464 4.21569 15.9114L4.14645 15.8536C3.97288 15.68 3.9536 15.4106 4.08859 15.2157L4.14645 15.1464L9.293 10L4.14645 4.85355C3.97288 4.67999 3.9536 4.41056 4.08859 4.21569L4.14645 4.14645L4.08859 4.21569Z" />
            </svg>
        </button></div>
    </div>
    <!-- Window content -->
    <div class="window-content">{% include type.html %}</div>
    <!-- Window resize handles -->
    <div class="resize-handle top-left"></div>
    <div class="resize-handle top-right"></div>
    <div class="resize-handle bottom-left"></div>
    <div class="resize-handle bottom-right"></div>
    <div class="resize-handle left"></div>
    <div class="resize-handle right"></div>
    <div class="resize-handle top"></div>
    <div class="resize-handle bottom"></div>
</div>

<!-- WINDOW 3 -->
<div class="window" id="window3">
    <!-- Window header -->
    <div class="window-header">
        <!-- Window header left -->
        <div class="window-header-child-l">
            <button class="copy-btn" id="copyButton">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M8 2C6.89543 2 6 2.89543 6 4V14C6 15.1046 6.89543 16 8 16H14C15.1046 16 16 15.1046 16 14V4C16 2.89543 15.1046 2 14 2H8ZM7 4C7 3.44772 7.44772 3 8 3H14C14.5523 3 15 3.44772 15 4V14C15 14.5523 14.5523 15 14 15H8C7.44772 15 7 14.5523 7 14V4ZM4 6.00001C4 5.25973 4.4022 4.61339 5 4.26758V14.5C5 15.8807 6.11929 17 7.5 17H13.7324C13.3866 17.5978 12.7403 18 12 18H7.5C5.567 18 4 16.433 4 14.5V6.00001Z" />
                </svg>
            </button>
        </div>
        <!-- Window header center -->
        <p class="small">merp.gif</p>
        <!-- Window header right -->
        <div class="window-header-child-r"><button class="close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path
                    d="M4.08859 4.21569L4.14645 4.14645C4.32001 3.97288 4.58944 3.9536 4.78431 4.08859L4.85355 4.14645L10 9.293L15.1464 4.14645C15.32 3.97288 15.5894 3.9536 15.7843 4.08859L15.8536 4.14645C16.0271 4.32001 16.0464 4.58944 15.9114 4.78431L15.8536 4.85355L10.707 10L15.8536 15.1464C16.0271 15.32 16.0464 15.5894 15.9114 15.7843L15.8536 15.8536C15.68 16.0271 15.4106 16.0464 15.2157 15.9114L15.1464 15.8536L10 10.707L4.85355 15.8536C4.67999 16.0271 4.41056 16.0464 4.21569 15.9114L4.14645 15.8536C3.97288 15.68 3.9536 15.4106 4.08859 15.2157L4.14645 15.1464L9.293 10L4.14645 4.85355C3.97288 4.67999 3.9536 4.41056 4.08859 4.21569L4.14645 4.14645L4.08859 4.21569Z" />
            </svg>
        </button></div>
    </div>
    <!-- Window content -->
    <div class="window-content">{% include merp.html %}</div>
    <!-- Window resize handles -->
    <div class="resize-handle top-left"></div>
    <div class="resize-handle top-right"></div>
    <div class="resize-handle bottom-left"></div>
    <div class="resize-handle bottom-right"></div>
    <div class="resize-handle left"></div>
    <div class="resize-handle right"></div>
    <div class="resize-handle top"></div>
    <div class="resize-handle bottom"></div>
</div>

<!-- WINDOW 4 -->
<div class="window" id="window4">
    <!-- Window header -->
    <div class="window-header">
        <!-- Window header left -->
        <div class="window-header-child-l">
            <button class="copy-btn" id="copyButton">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path
                        d="M8 2C6.89543 2 6 2.89543 6 4V14C6 15.1046 6.89543 16 8 16H14C15.1046 16 16 15.1046 16 14V4C16 2.89543 15.1046 2 14 2H8ZM7 4C7 3.44772 7.44772 3 8 3H14C14.5523 3 15 3.44772 15 4V14C15 14.5523 14.5523 15 14 15H8C7.44772 15 7 14.5523 7 14V4ZM4 6.00001C4 5.25973 4.4022 4.61339 5 4.26758V14.5C5 15.8807 6.11929 17 7.5 17H13.7324C13.3866 17.5978 12.7403 18 12 18H7.5C5.567 18 4 16.433 4 14.5V6.00001Z" />
                </svg>
            </button>
        </div>
        <!-- Window header center -->
        <p class="small">Color</p>
        <!-- Window header right -->
        <div class="window-header-child-r"><button class="close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path
                    d="M4.08859 4.21569L4.14645 4.14645C4.32001 3.97288 4.58944 3.9536 4.78431 4.08859L4.85355 4.14645L10 9.293L15.1464 4.14645C15.32 3.97288 15.5894 3.9536 15.7843 4.08859L15.8536 4.14645C16.0271 4.32001 16.0464 4.58944 15.9114 4.78431L15.8536 4.85355L10.707 10L15.8536 15.1464C16.0271 15.32 16.0464 15.5894 15.9114 15.7843L15.8536 15.8536C15.68 16.0271 15.4106 16.0464 15.2157 15.9114L15.1464 15.8536L10 10.707L4.85355 15.8536C4.67999 16.0271 4.41056 16.0464 4.21569 15.9114L4.14645 15.8536C3.97288 15.68 3.9536 15.4106 4.08859 15.2157L4.14645 15.1464L9.293 10L4.14645 4.85355C3.97288 4.67999 3.9536 4.41056 4.08859 4.21569L4.14645 4.14645L4.08859 4.21569Z" />
            </svg>
        </button></div>
    </div>
    <!-- Window content -->
    <div class="window-content"></div>
    <!-- Window resize handles -->
    <div class="resize-handle top-left"></div>
    <div class="resize-handle top-right"></div>
    <div class="resize-handle bottom-left"></div>
    <div class="resize-handle bottom-right"></div>
    <div class="resize-handle left"></div>
    <div class="resize-handle right"></div>
    <div class="resize-handle top"></div>
    <div class="resize-handle bottom"></div>
</div>

<!-- WINDOW SCRIPT -->
<script>
    const windows = document.querySelectorAll('.window');
    const toggleButtons = document.querySelectorAll('.toggleButton');
    const closeButtons = document.querySelectorAll('.close-btn');

    let isDragging = false;
    let startX, startY, startWidth, startHeight, startLeft, startTop;
    let resizeDirection;

    function centerWindow(windowElement) {
        if (windowElement.style.display !== 'none') {
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const divWidth = windowElement.offsetWidth;
            const divHeight = windowElement.offsetHeight;

            windowElement.style.left = `${(viewportWidth - divWidth) / 2}px`;
            windowElement.style.top = `${(viewportHeight - divHeight) / 2}px`;
        }
    }

    function bringToFront(windowElement) {
        let highestZIndex = 0;
        windows.forEach(win => {
            const zIndex = parseInt(window.getComputedStyle(win).zIndex, 10);
            if (zIndex > highestZIndex) {
                highestZIndex = zIndex;
            }
        });

        windowElement.style.zIndex = highestZIndex + 1;

        windows.forEach(win => win.classList.remove('active'));
        windowElement.classList.add('active');
    }

    // SUB OPENS FIRST WINDOW ON START
    window.addEventListener('load', () => {
        const firstWindow = document.getElementById('window1');
        centerWindow(firstWindow);
        bringToFront(firstWindow);
    });


    windows.forEach(windowElement => {
        windowElement.addEventListener('mousedown', () => {
            bringToFront(windowElement);
        });
    });


    window.addEventListener('load', () => {
        windows.forEach(centerWindow);
    });



    document.querySelectorAll('.window-header').forEach(header => {
        header.addEventListener('mousedown', (e) => {
            const windowElement = e.target.closest('.window');
            bringToFront(windowElement); // Bring to front when dragged

            isDragging = true;
            startX = e.clientX;
            startY = e.clientY;
            startLeft = parseInt(window.getComputedStyle(windowElement).left, 10);
            startTop = parseInt(window.getComputedStyle(windowElement).top, 10);

            function onDrag(e) {
                if (isDragging) {
                    const dx = e.clientX - startX;
                    const dy = e.clientY - startY;
                    windowElement.style.left = `${startLeft + dx}px`;
                    windowElement.style.top = `${startTop + dy}px`;
                }
            }

            function stopDrag() {
                isDragging = false;
                document.removeEventListener('mousemove', onDrag);
                document.removeEventListener('mouseup', stopDrag);
            }

            document.addEventListener('mousemove', onDrag);
            document.addEventListener('mouseup', stopDrag);
        });
    });

    document.querySelectorAll('.resize-handle').forEach(handle => {
        handle.addEventListener('mousedown', (e) => {
            e.preventDefault();
            const windowElement = e.target.closest('.window');
            bringToFront(windowElement); // Bring to front when resized

            resizeDirection = handle.classList[1];
            startX = e.clientX;
            startY = e.clientY;
            startWidth = parseInt(window.getComputedStyle(windowElement).width, 10);
            startHeight = parseInt(window.getComputedStyle(windowElement).height, 10);
            startLeft = parseInt(window.getComputedStyle(windowElement).left, 10);
            startTop = parseInt(window.getComputedStyle(windowElement).top, 10);

            function onResize(e) {
                let newWidth, newHeight, newLeft, newTop;

                switch (resizeDirection) {
                    case 'top-left':
                        newWidth = startWidth - (e.clientX - startX);
                        newHeight = startHeight - (e.clientY - startY);
                        newLeft = startLeft + (e.clientX - startX);
                        newTop = startTop + (e.clientY - startY);
                        break;
                    case 'top-right':
                        newWidth = startWidth + (e.clientX - startX);
                        newHeight = startHeight - (e.clientY - startY);
                        newLeft = startLeft;
                        newTop = startTop + (e.clientY - startY);
                        break;
                    case 'bottom-left':
                        newWidth = startWidth - (e.clientX - startX);
                        newHeight = startHeight + (e.clientY - startY);
                        newLeft = startLeft + (e.clientX - startX);
                        newTop = startTop;
                        break;
                    case 'bottom-right':
                        newWidth = startWidth + (e.clientX - startX);
                        newHeight = startHeight + (e.clientY - startY);
                        newLeft = startLeft;
                        newTop = startTop;
                        break;
                    case 'left':
                        newWidth = startWidth - (e.clientX - startX);
                        newHeight = startHeight;
                        newLeft = startLeft + (e.clientX - startX);
                        newTop = startTop;
                        break;
                    case 'right':
                        newWidth = startWidth + (e.clientX - startX);
                        newHeight = startHeight;
                        newLeft = startLeft;
                        newTop = startTop;
                        break;
                    case 'top':
                        newWidth = startWidth;
                        newHeight = startHeight - (e.clientY - startY);
                        newLeft = startLeft;
                        newTop = startTop + (e.clientY - startY);
                        break;
                    case 'bottom':
                        newWidth = startWidth;
                        newHeight = startHeight + (e.clientY - startY);
                        newLeft = startLeft;
                        newTop = startTop;
                        break;
                }

                windowElement.style.width = `${Math.max(newWidth, 200)}px`; // Min width
                windowElement.style.height = `${Math.max(newHeight, 200)}px`; // Min height
                windowElement.style.left = `${newLeft}px`;
                windowElement.style.top = `${newTop}px`;
            }

            function stopResize() {
                document.removeEventListener('mousemove', onResize);
                document.removeEventListener('mouseup', stopResize);
            }

            document.addEventListener('mousemove', onResize);
            document.addEventListener('mouseup', stopResize);
        });
    });

    toggleButtons.forEach(button => {
        button.addEventListener('click', () => {
            const targetId = button.getAttribute('data-target');
            const windowElement = document.getElementById(targetId);

            if (windowElement.style.display === 'none' || !windowElement.style.display) {
                windowElement.style.display = 'flex'; // Show window
                centerWindow(windowElement);
                bringToFront(windowElement); // Bring to front when toggled on
                button.classList.add('active');
                button.classList.remove('inactive');
            } else {
                windowElement.style.display = 'none'; // Hide window
                button.classList.add('inactive');
                button.classList.remove('active');
            }
        });
    });

    // Handle close buttons
    closeButtons.forEach(button => {
        button.addEventListener('click', () => {
            const windowElement = button.closest('.window');
            windowElement.classList.add('closing'); // Add closing animation
            setTimeout(() => {
                windowElement.style.display = 'none'; // Hide window after animation
                windowElement.classList.remove('closing'); // Remove the class for next time it shows
            }, 500); // Match the duration of the animation
            const toggleButton = document.querySelector(`.toggleButton[data-target="${windowElement.id}"]`);
            if (toggleButton) {
                toggleButton.classList.add('inactive');
                toggleButton.classList.remove('active');
            }
        });
    });

</script>



<!-- COPY ALERT SCRIPT -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const codeField = document.getElementById('codeField');
        const copyButton = document.getElementById('copyButton');
        const copyAlert = document.getElementById('copyAlert');

        copyButton.addEventListener('click', () => {
            const range = document.createRange();
            range.selectNode(codeField);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();

            // Show the alert message
            showCopyAlert();
        });

        function showCopyAlert() {
            copyAlert.classList.add('show');
            setTimeout(() => {
                copyAlert.classList.remove('show');
            }, 2000); // Hide after 2 seconds
        }

        codeField.addEventListener('keydown', (event) => {
            if (event.ctrlKey && event.key === 'a') {
                event.preventDefault();
                document.execCommand('selectAll');
            }
        });

        // Apply syntax highlighting here
        applySyntaxHighlighting();

        function applySyntaxHighlighting() {
            // Your syntax highlighting code goes here
        }
    });

</script>